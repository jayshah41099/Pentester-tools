import hashlib
import sys

def hash_generate(file):

    BlockSize = 65536
    hasher = hashlib.md5()
    with open (file, 'rb') as afile:
        buf = afile.read(BlockSize)
        while len(buf) > 0:
            hasher.update(buf)
            buf = afile.read(BlockSize)
    
    return hasher.hexdigest()

def main():
    file = sys.argv[1]
    print (f" Md5 hash for {file} is : {hash_generate(file)}")

if __name__ == '__main__':
    main()

