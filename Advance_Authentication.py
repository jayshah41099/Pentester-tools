import getpass
import time
import logging
import socket

# Configure the logging module
logging.basicConfig(filename='login_attempts.log', level=logging.INFO, format='%(asctime)s - %(message)s', datefmt='%Y-%m-%d %H:%M:%S')

database = {"roy": "582736", "jermie": "689765", "alex": "6574965"}

username = input("Enter your username: ")
password = getpass.getpass("Enter your password: ")

for i in database.keys():
    if username == i:
        attempts = 1
        while password != database.get(i):
            if attempts >= 3:
                ip_address = socket.gethostbyname(socket.gethostname())
                log_message = f"IP: {ip_address} - Username: {username} - Last password entered at: {time.strftime('%Y-%m-%d %H:%M:%S')}"
                logging.error(log_message)
                print("Maximum login attempts reached. Please try again after a minute.")
                time.sleep(60)  # Pause for 60 seconds
                attempts = 1  # Reset the attempt count
            else:
                password = getpass.getpass("Enter your password again: ")
                attempts += 1
        break

print("User has been verified! Welcome to the Space!")
